# Architecture Overview

This is a full-stack application boilerplate with a multi-platform frontend and backend services.

## Frontend Architecture

- **Framework**: Next.js 16 with App Router
- **UI Library**: shadcn/ui (Radix UI + TailwindCSS 4)
- **Tech Stack**: React 19, TypeScript, Bun package manager
- **Build System**: Turbo for monorepo management
- **Architecture Pattern**: Feature-Sliced Design (FSD)

**→ For detailed frontend documentation, see [`frontend/README.md`](../../frontend/README.md)**

## Backend Architecture

- **Python Backend**: FastAPI application in `backend-py/` using clean architecture patterns
- **Edge Functions**: Supabase Edge Functions using Deno's native `Deno.serve` API for serverless functions
- **Database**: PostgreSQL with **Drizzle ORM** for schema management, includes pgvector extension for embeddings
- **Schema Management**: Drizzle ORM with TypeScript-based declarative schema definitions and migrations
- **Infrastructure**: Supabase for auth/database, Docker containerization
- **AI Integration**: LangChain, OpenAI, multi-modal AI capabilities, vector search

### Backend Clean Architecture Structure

```
backend-py/app/src/
├── controller/       # HTTP request/response handling only
├── usecase/          # Business logic
├── gateway/          # Data access abstraction interfaces
├── domain/           # Entities and models (models.py: generated by sqlacodegen)
├── infra/            # External dependencies (DB, API clients, Supabase)
└── middleware/       # Authentication, CORS, logging
```

**Separation of Concerns**:
- Controllers: HTTP layer only, no business logic
- Use Cases: Business logic and orchestration
- Gateways: Data access abstraction (interface definitions)
- Infrastructure: Gateway implementations and external system integration
- Domain: Entities and Value Objects (auto-generated by sqlacodegen)

**→ For detailed Python backend documentation, see [`backend-py/README.md`](../../backend-py/README.md)**

### AI/ML Integration Details

**Implemented AI/ML Libraries**:

- **LLM Orchestration**:
  - LangChain: Complex AI workflow construction
  - LangGraph: Stateful agent implementation
  - LangSmith: Monitoring and debugging
  - Langchainhub: Prompt template management

- **LLM Providers**:
  - OpenAI: GPT-4, DALL-E, Whisper integration
  - Anthropic: Claude integration (via LangChain)
  - Replicate: Open source model API
  - FAL: Fast AI inference API

- **Deep Learning & ML**:
  - Torch: Deep learning framework
  - Diffusers: Image generation (Stable Diffusion, etc.)
  - Transformers: HuggingFace models
  - Accelerate: Model acceleration and distributed training

- **Real-time Communication**:
  - LiveKit: WebRTC/real-time audio and video communication
  - livekit-api: LiveKit API client
  - aiortc: WebRTC implementation

- **Voice & Audio**:
  - Cartesia: Voice synthesis API

- **Vector Search**:
  - pgvector: PostgreSQL extension for vector similarity search

- **Message Queue**:
  - kombu: Message broker abstraction
  - tembo-pgmq-python: PostgreSQL-based message queue

## Database Design

- Multi-client architecture with corporate users, general users, and virtual users
- Chat system with rooms, messages, and user relationships
- Vector embeddings table for AI/ML features
- Clean separation between user types and permissions
